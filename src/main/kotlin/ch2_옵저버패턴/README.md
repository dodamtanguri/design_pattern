# 2. Observer Pattern

λ§κ°μΌ: 2024λ…„ 6μ›” 4μΌ
μ™„λ£: No

# Observer Pattern

> ν• κ°μ²΄μ μƒνƒκ°€ λ°”λ€λ©΄ κ·Έ κ°μ²΄μ— μμ΅΄ν•λ” λ‹¤λ¥Έ κ°μ²΄μ—κ² μ—°λ½μ΄ κ°€κ³  μλ™μΌλ΅ λ‚΄μ©μ΄ κ°±μ‹ λλ” λ°©μ‹μΌλ΅ 1:N (ONE-TO-MANY) μμ΅΄μ„±μ„ μ •μ
>

### 1 : N (One to Many) κ΄€κ³„

### λμ¨ν• κ²°ν•© : κ°μ²΄λ“¤μ΄ μƒνΈμ‘μ©ν•  μλ” μμ§€λ§, μ„λ΅λ¥Ό μ λ¨λ¥΄λ” κ΄€κ³„λ¥Ό μλ―Έ

β­οΈ κ°μ²΄ μ‚¬μ΄μ μƒνΈμμ΅΄μ„±μ„ μµμ†ν™”.

- μ£Όμ λ” μµμ €λ²„κ°€ νΉμ • μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ‹¤λ” μ‚¬μ‹¤λ§ μ•”.
- μµμ €λ²„λ” μ–Έμ λ“ μ§€ μƒλ΅ μ¶”κ°€ν•  μ μμ.
- μƒλ΅μ΄ ν•μ‹μ μµμ €λ²„λ¥Ό μ¶”κ°€ν•  λ•λ„ μ£Όμ λ¥Ό λ³€κ²½ν•  ν•„μ” μ—†μ.
- μ£Όμ μ™€ μµμ €λ²„λ” μ„λ΅ λ…λ¦½μ μΌλ΅ μ¬μ‚¬μ© κ°€λ¥.
- μ£Όμ λ‚ μµμ €λ²„κ°€ λ‹¬λΌμ Έλ„ μ„λ΅μ—κ² μν–¥β

μ£Όλ΅ `Subject Interface` μ™€ `Observer Interface`κ°€ λ“¤μ–΄μλ” ν΄λμ¤ λ””μμΈμΌλ΅ κµ¬ν„


### Subject

- μ£Όμ λ¥Ό λ‚νƒ€λ‚΄λ” μΈν„°νμ΄μ¤
- κ°μ²΄ β†’ μµμ €λ²„ λ“±λ΅  : `registerObserver()`
- μµμ €λ²„ νƒν‡΄ : `removeObserver()`
- μƒνƒ μ—…λ°μ΄νΈ : `notifyObserver()`

### Observer

- μµμ €λ²„κ°€ λ  κ°€λ¥μ„±μ΄ μλ” κ°μ²΄κ°€ λ°λ“μ‹ κµ¬ν„ν•΄μ•Όν•λ” μΈν„°νμ΄μ¤
- μ£Όμ μ μƒνƒκ°€ λ°”λ€μ—μ„ λ•
- κ° μ£Όμ λ§λ‹¤ μ—¬λ¬ κ°μ μµμ €λ²„κ°€ μμ„ μ μμ `(1 : N κ΄€κ³„)`

### ConcreteSubject (= WeatherData)

- μ£Όμ  μ—­ν• μ„ ν•λ” κµ¬μƒ ν΄λμ¤( ν΄λμ¤μ λ¨λ“  λ©”μ„λ“λ¥Ό μ™„λ²½ν•κ² κµ¬ν„, μ¤νΌλ μ΄μ…μ μ‹¤μ²΄κ°€ μ΅΄μ¬ν•λ” ν΄λμ¤) κ°€ λ°λ“μ‹ κµ¬ν„ν•΄μ•Όν•λ” μΈν„°νμ΄μ¤
- μƒνƒλ¥Ό μ„¤μ •ν•κ³  μ•μ•„λ‚΄λ” `getter/setter` λ¥Ό ν¬ν•¨.

### ConcreteObserver(= ~Display)

- Observer μΈν„°νμ΄μ¤λ§ κµ¬ν„ ν•λ©΄ λ¬΄μ—‡μ΄λ“  μµμ €λ²„ ν΄λμ¤κ°€ λ  μ μμ.
- νΉμ • μ£Όμ μ— λ“±λ΅ν•μ—¬ μ—°λ½μ„ λ°›μ„ μ μμ.

Push : μ£Όμ κ°€ μµμ €λ²„λ΅ λ°μ΄ν„°λ¥Ό λ³΄λƒ„

Pull : μµμ €λ²„κ°€ μ£Όμ λ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό λκ³ μ΄.

### β­οΈ λ””μμΈ μ›μΉ™

1. μ–΄ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ‹¬λΌμ§€λ” λ¶€λ¶„κ³Ό λ‹¬λΌμ§€μ§€ μ•μ€ λ¶€λ¶„μ„ λ¶„λ¦¬ν•λ‹¤
- λ‹¬λΌμ§€λ” λ¶€λ¶„μ„ λ–Όμ–΄λ‚΄μ„ μΊ΅μν™”λ¥Ό μ‹μΌμ¤.
- μµμ €λ²„ ν¨ν„΄ λ³€κ²½ μ‚¬ν•­ : μµμ €λ²„μ κ°μ, ν•μ‹
1. κµ¬ν„λ³΄λ‹¤λ” μΈν„°νμ΄μ¤μ— λ§μ¶°μ„ ν”„λ΅κ·Έλλ°
- μ£Όμ μ½”λ“μ— λ³€κ²½μ΄ ν•„μ” X μƒλ΅μ΄ μµμ €λ²„ ν΄λμ¤κ°€ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©΄ λ¨.
- μμ‹ μ μ—­ν• μ—λ§ μ§‘μ¤‘ ν•  μ μμ.
1. μƒμ† λ³΄λ‹¤λ” κµ¬μ„±
2. μƒνΈμ‘μ©ν•λ” κ°μ²΄ μ‚¬μ΄μ—λ” λμ¨ν•κ²°ν•© μ‚¬μ©

<aside>
π’΅ Observable

</aside>

- ν΄λμ¤ β­•οΈ μΈν„°νμ΄μ¤ βΒ >> μ„λΈν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ•Όν•κ³  μ΄λ―Έ λ‹¤λ¥Έ μνΌν΄λμ¤λ¥Ό ν™•μ¥ν•κ³  μλ” ν΄λμ¤μ— `Observable` μ κΈ°λ¥μ„ μ¶”κ°€ν•  μ μ—†μ.
